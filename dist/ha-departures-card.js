function t(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o}"function"==typeof SuppressedError&&SuppressedError;const e=globalThis,i=e.ShadowRoot&&(void 0===e.ShadyCSS||e.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,n=Symbol(),r=new WeakMap;class s{constructor(t,e,i){if(this._$cssResult$=!0,i!==n)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(i&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=r.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&r.set(e,t))}return t}toString(){return this.cssText}}const o=t=>new s("string"==typeof t?t:t+"",void 0,n),a=(t,...e)=>{const i=1===t.length?t[0]:e.reduce(((e,i,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[n+1]),t[0]);return new s(i,t,n)},l=i?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return o(e)})(t):t,{is:c,defineProperty:d,getOwnPropertyDescriptor:u,getOwnPropertyNames:h,getOwnPropertySymbols:p,getPrototypeOf:f}=Object,g=globalThis,m=g.trustedTypes,_=m?m.emptyScript:"",v=g.reactiveElementPolyfillSupport,y=(t,e)=>t,b={toAttribute(t,e){switch(e){case Boolean:t=t?_:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},E=(t,e)=>!c(t,e),w={attribute:!0,type:String,converter:b,reflect:!1,useDefault:!1,hasChanged:E};Symbol.metadata??=Symbol("metadata"),g.litPropertyMetadata??=new WeakMap;class $ extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=w){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const i=Symbol(),n=this.getPropertyDescriptor(t,i,e);void 0!==n&&d(this.prototype,t,n)}}static getPropertyDescriptor(t,e,i){const{get:n,set:r}=u(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get:n,set(e){const s=n?.call(this);r?.call(this,e),this.requestUpdate(t,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??w}static _$Ei(){if(this.hasOwnProperty(y("elementProperties")))return;const t=f(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(y("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(y("properties"))){const t=this.properties,e=[...h(t),...p(t)];for(const i of e)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,i]of e)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const i=this._$Eu(t,e);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(l(t))}else void 0!==t&&e.push(l(t));return e}static _$Eu(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const i of e.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((t,n)=>{if(i)t.adoptedStyleSheets=n.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const i of n){const n=document.createElement("style"),r=e.litNonce;void 0!==r&&n.setAttribute("nonce",r),n.textContent=i.cssText,t.appendChild(n)}})(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$ET(t,e){const i=this.constructor.elementProperties.get(t),n=this.constructor._$Eu(t,i);if(void 0!==n&&!0===i.reflect){const r=(void 0!==i.converter?.toAttribute?i.converter:b).toAttribute(e,i.type);this._$Em=t,null==r?this.removeAttribute(n):this.setAttribute(n,r),this._$Em=null}}_$AK(t,e){const i=this.constructor,n=i._$Eh.get(t);if(void 0!==n&&this._$Em!==n){const t=i.getPropertyOptions(n),r="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:b;this._$Em=n;const s=r.fromAttribute(e,t.type);this[n]=s??this._$Ej?.get(n)??s,this._$Em=null}}requestUpdate(t,e,i){if(void 0!==t){const n=this.constructor,r=this[t];if(i??=n.getPropertyOptions(t),!((i.hasChanged??E)(r,e)||i.useDefault&&i.reflect&&r===this._$Ej?.get(t)&&!this.hasAttribute(n._$Eu(t,i))))return;this.C(t,e,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,e,{useDefault:i,reflect:n,wrapped:r},s){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,s??e??this[t]),!0!==r||void 0!==s)||(this._$AL.has(t)||(this.hasUpdated||i||(e=void 0),this._$AL.set(t,e)),!0===n&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,i]of t){const{wrapped:t}=i,n=this[e];!0!==t||this._$AL.has(e)||void 0===n||this.C(e,void 0,i,n)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(e)):this._$EM()}catch(e){throw t=!1,this._$EM(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}}$.elementStyles=[],$.shadowRootOptions={mode:"open"},$[y("elementProperties")]=new Map,$[y("finalized")]=new Map,v?.({ReactiveElement:$}),(g.reactiveElementVersions??=[]).push("2.1.1");const x=globalThis,A=x.trustedTypes,S=A?A.createPolicy("lit-html",{createHTML:t=>t}):void 0,C="$lit$",T=`lit$${Math.random().toFixed(9).slice(2)}$`,k="?"+T,P=`<${k}>`,D=document,N=()=>D.createComment(""),M=t=>null===t||"object"!=typeof t&&"function"!=typeof t,I=Array.isArray,R="[ \t\n\f\r]",L=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,O=/-->/g,U=/>/g,H=RegExp(`>|${R}(?:([^\\s"'>=/]+)(${R}*=${R}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),z=/'/g,j=/"/g,B=/^(?:script|style|textarea|title)$/i,F=(t=>(e,...i)=>({_$litType$:t,strings:e,values:i}))(1),W=Symbol.for("lit-noChange"),V=Symbol.for("lit-nothing"),q=new WeakMap,X=D.createTreeWalker(D,129);function G(t,e){if(!I(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==S?S.createHTML(e):e}const Z=(t,e)=>{const i=t.length-1,n=[];let r,s=2===e?"<svg>":3===e?"<math>":"",o=L;for(let e=0;e<i;e++){const i=t[e];let a,l,c=-1,d=0;for(;d<i.length&&(o.lastIndex=d,l=o.exec(i),null!==l);)d=o.lastIndex,o===L?"!--"===l[1]?o=O:void 0!==l[1]?o=U:void 0!==l[2]?(B.test(l[2])&&(r=RegExp("</"+l[2],"g")),o=H):void 0!==l[3]&&(o=H):o===H?">"===l[0]?(o=r??L,c=-1):void 0===l[1]?c=-2:(c=o.lastIndex-l[2].length,a=l[1],o=void 0===l[3]?H:'"'===l[3]?j:z):o===j||o===z?o=H:o===O||o===U?o=L:(o=H,r=void 0);const u=o===H&&t[e+1].startsWith("/>")?" ":"";s+=o===L?i+P:c>=0?(n.push(a),i.slice(0,c)+C+i.slice(c)+T+u):i+T+(-2===c?e:u)}return[G(t,s+(t[i]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),n]};class Y{constructor({strings:t,_$litType$:e},i){let n;this.parts=[];let r=0,s=0;const o=t.length-1,a=this.parts,[l,c]=Z(t,e);if(this.el=Y.createElement(l,i),X.currentNode=this.el.content,2===e||3===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(n=X.nextNode())&&a.length<o;){if(1===n.nodeType){if(n.hasAttributes())for(const t of n.getAttributeNames())if(t.endsWith(C)){const e=c[s++],i=n.getAttribute(t).split(T),o=/([.?@])?(.*)/.exec(e);a.push({type:1,index:r,name:o[2],strings:i,ctor:"."===o[1]?et:"?"===o[1]?it:"@"===o[1]?nt:tt}),n.removeAttribute(t)}else t.startsWith(T)&&(a.push({type:6,index:r}),n.removeAttribute(t));if(B.test(n.tagName)){const t=n.textContent.split(T),e=t.length-1;if(e>0){n.textContent=A?A.emptyScript:"";for(let i=0;i<e;i++)n.append(t[i],N()),X.nextNode(),a.push({type:2,index:++r});n.append(t[e],N())}}}else if(8===n.nodeType)if(n.data===k)a.push({type:2,index:r});else{let t=-1;for(;-1!==(t=n.data.indexOf(T,t+1));)a.push({type:7,index:r}),t+=T.length-1}r++}}static createElement(t,e){const i=D.createElement("template");return i.innerHTML=t,i}}function J(t,e,i=t,n){if(e===W)return e;let r=void 0!==n?i._$Co?.[n]:i._$Cl;const s=M(e)?void 0:e._$litDirective$;return r?.constructor!==s&&(r?._$AO?.(!1),void 0===s?r=void 0:(r=new s(t),r._$AT(t,i,n)),void 0!==n?(i._$Co??=[])[n]=r:i._$Cl=r),void 0!==r&&(e=J(t,r._$AS(t,e.values),r,n)),e}class K{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:i}=this._$AD,n=(t?.creationScope??D).importNode(e,!0);X.currentNode=n;let r=X.nextNode(),s=0,o=0,a=i[0];for(;void 0!==a;){if(s===a.index){let e;2===a.type?e=new Q(r,r.nextSibling,this,t):1===a.type?e=new a.ctor(r,a.name,a.strings,this,t):6===a.type&&(e=new rt(r,this,t)),this._$AV.push(e),a=i[++o]}s!==a?.index&&(r=X.nextNode(),s++)}return X.currentNode=D,n}p(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class Q{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,i,n){this.type=2,this._$AH=V,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=n,this._$Cv=n?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=J(this,t,e),M(t)?t===V||null==t||""===t?(this._$AH!==V&&this._$AR(),this._$AH=V):t!==this._$AH&&t!==W&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):(t=>I(t)||"function"==typeof t?.[Symbol.iterator])(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==V&&M(this._$AH)?this._$AA.nextSibling.data=t:this.T(D.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:i}=t,n="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=Y.createElement(G(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===n)this._$AH.p(e);else{const t=new K(n,this),i=t.u(this.options);t.p(e),this.T(i),this._$AH=t}}_$AC(t){let e=q.get(t.strings);return void 0===e&&q.set(t.strings,e=new Y(t)),e}k(t){I(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,n=0;for(const r of t)n===e.length?e.push(i=new Q(this.O(N()),this.O(N()),this,this.options)):i=e[n],i._$AI(r),n++;n<e.length&&(this._$AR(i&&i._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class tt{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,n,r){this.type=1,this._$AH=V,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=r,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=V}_$AI(t,e=this,i,n){const r=this.strings;let s=!1;if(void 0===r)t=J(this,t,e,0),s=!M(t)||t!==this._$AH&&t!==W,s&&(this._$AH=t);else{const n=t;let o,a;for(t=r[0],o=0;o<r.length-1;o++)a=J(this,n[i+o],e,o),a===W&&(a=this._$AH[o]),s||=!M(a)||a!==this._$AH[o],a===V?t=V:t!==V&&(t+=(a??"")+r[o+1]),this._$AH[o]=a}s&&!n&&this.j(t)}j(t){t===V?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class et extends tt{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===V?void 0:t}}class it extends tt{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==V)}}class nt extends tt{constructor(t,e,i,n,r){super(t,e,i,n,r),this.type=5}_$AI(t,e=this){if((t=J(this,t,e,0)??V)===W)return;const i=this._$AH,n=t===V&&i!==V||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,r=t!==V&&(i===V||n);n&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class rt{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){J(this,t)}}const st=x.litHtmlPolyfillSupport;st?.(Y,Q),(x.litHtmlVersions??=[]).push("3.3.1");const ot=globalThis;class at extends ${constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,i)=>{const n=i?.renderBefore??e;let r=n._$litPart$;if(void 0===r){const t=i?.renderBefore??null;n._$litPart$=r=new Q(e.insertBefore(N(),t),t,void 0,i??{})}return r._$AI(t),r})(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return W}}at._$litElement$=!0,at.finalized=!0,ot.litElementHydrateSupport?.({LitElement:at});const lt=ot.litElementPolyfillSupport;var ct,dt,ut;lt?.({LitElement:at}),(ot.litElementVersions??=[]).push("4.2.1"),function(t){t.BASIC="basic",t.BLACK_WHITE="black-white",t.CAPPUCINO="cappucino",t.ECO_GREEN="eco-green"}(ct||(ct={})),function(t){t.TIMES="times",t.LINE_NAME="line_name",t.LINE_ID="line_id",t.DIRECTION="direction",t.TRANSPORT="transport",t.FRIENDLY_NAME="friendly_name",t.ICON="icon",t.PLANNED_DEPARTURE_TIME="planned_departure_time",t.PLANNED_DEPARTURE_TIME_1="planned_departure_time_1",t.PLANNED_DEPARTURE_TIME_2="planned_departure_time_2",t.PLANNED_DEPARTURE_TIME_3="planned_departure_time_3",t.PLANNED_DEPARTURE_TIME_4="planned_departure_time_4",t.ESTIMATED_DEPARTURE_TIME="estimated_departure_time",t.ESTIMATED_DEPARTURE_TIME_1="estimated_departure_time_1",t.ESTIMATED_DEPARTURE_TIME_2="estimated_departure_time_2",t.ESTIMATED_DEPARTURE_TIME_3="estimated_departure_time_3",t.ESTIMATED_DEPARTURE_TIME_4="estimated_departure_time_4"}(dt||(dt={})),function(t){t.DIRECTION="direction",t.FRIENDLY_NAME="friendly_name",t.ICON="icon",t.STATION="station",t.VIA_STATIONS="via_stations",t.NEXT_DEPARTURES="next_departures"}(ut||(ut={}));const ht=a`
  .content[data-theme="dark"] {
    --departures-bg: #363636;
    --departures-text: #cccccc;
    --departures-delay-ok: #4caf50;
    --departures-delay-bad: #f44336;
  }
  .content[data-theme="light"] {
    --departures-bg: #ffffff;
    --departures-text: #222;
    --departures-delay-ok: #4caf50;
    --departures-delay-bad: #f44336;
  }
  ha-card {
    display: block;
    height: auto;
    width: 100%;
    overflow: hidden;
  }
  .card-header {
    display: flex;
    flex-wrap: nowrap;
    justify-content: space-between;
    align-items: center;
    font-size: 2em;
  }
  .content {
    padding: 16px 0px;
  }
`,pt=a`
  .splide-root {
    border-radius: 5px;
    background: var(--departures-bg);
    color: var(--departures-text);
  }
  .departure-line {
    display: grid;
    grid-template-columns: auto auto 1fr auto 40px;
    align-items: center;
    column-gap: 5px;
    justify-content: center;
    width: 100%;
  }
  .splide__slide {
    display: flex;
    align-items: center;
  }
  .departure-line.arriving > * {
    animation: flash 2s ease-in-out infinite;
  }
  .departure-line.delayed > .cell-delay {
    color: var(--departures-delay-bad);
  }
  .cell-transport-icon {
    padding: 0px 5px;
  }
  .cell-destination {
    flex-grow: 1;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
  .cell-line {
    justify-self: center;
    padding: 0px 10px;
  }
  .cell-time {
    justify-self: center;
  }
  .cell-delay {
    justify-self: center;
  }
  .error {
    display: grid;
    grid-template-columns: 30px 1fr;
    border-left: 5px solid red;
    border: 1px solid red;
    padding: 5px;
    margin: 10px 0px;
    align-items: center;
  }
  .error span {
    font-weight: 500;
  }

  @keyframes flash {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0;
    }
  }
`,ft=a`
  .splide-root {
    background-color: transparent;
  }
  .splide {
    color: white;
  }
  .cell-line {
    text-transform: uppercase;
    border-radius: 10px;
  }
  .departure-line {
    display: grid;
    grid-template-columns: auto auto 1fr 60px 40px;
    align-items: center;
    column-gap: 5px;
    justify-content: center;
    padding: 5px;
    border-radius: 5px;
    background: #002b55;
  }
  .cell-time {
    background-color: lightgrey;
    width: 100%;
    text-align: center;
    color: black;
  }
`,gt=a`
  .splide-root {
    padding: 10px;
    border-radius: 6px;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  }
  .splide {
    font-family: "Roboto Mono", monospace;
  }
  .cell-line {
    text-transform: uppercase;
  }
  .departure-line {
    display: grid;
    grid-template-columns: auto auto 1fr auto 40px;
    align-items: center;
    column-gap: 5px;
    justify-content: center;
    padding: 5px;
    background: #f8f8f8;
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);
  }
`,mt=a``;const _t=Symbol.for("constructDateFrom");function vt(t,e){return n=t,"function"==typeof(i=e||t)?i(n):i&&"object"==typeof i&&_t in i?i[_t](n):i instanceof Date?new i.constructor(n):new Date(n);var i,n}function yt(t,e,i){const n=(r=e,(+vt(t)-+vt(r))/6e4);var r,s;return(s=i?.roundingMethod,t=>{const e=(s?Math[s]:Math.trunc)(t);return 0===e?0:e})(n)}function bt(t){if(!t||"unknown"===t||void 0===t)throw new Error("Provided date is invalid!");let e=new Date(t);return e.setSeconds(0,0),e}class Et{constructor(t){this.timerId=null,this.callback=null,this.duration=t}start(t){null===this.timerId&&(this.callback=t,this.timerId=window.setTimeout((()=>{t(),this.callback=null,this.timerId=null}),this.duration))}stop(){null!==this.timerId&&(clearTimeout(this.timerId),this.timerId=null)}restart(){this.stop(),null!==this.callback&&this.start(this.callback)}isRunning(){return null!=this.timerId}}class wt{constructor(t,e){try{this._planned=bt(t)}catch(e){throw console.error("Failed to parse `planned` date",t),e}try{this._estimated=bt(e)}catch{this._estimated=void 0}this._estimated?this._delay=yt(this._estimated,this._planned):this._delay=void 0}get time(){return this._estimated?this._estimated:this._planned}get timeDiff(){const t=bt(new Date);return yt(this.time,t)}get isArriving(){return 0==this.timeDiff}get delay(){return this._delay}get isDelayed(){return null!=this._delay&&this._delay>0}}class $t extends Error{constructor(t="",e){super(t),this.message=t,this.entityId=e,this.name="UnsupportedEntityError",this.stack=(new Error).stack,Object.setPrototypeOf(this,$t.prototype)}}class xt{static getParser(t){let e=null;if(t.attributes[dt.TIMES]||t.attributes[dt.PLANNED_DEPARTURE_TIME])e=new St(t);else{if(!t.attributes[ut.NEXT_DEPARTURES])throw new $t("No data parser found for entity '"+t.entity_id+"'",t.entity_id);e=new Ct(t)}return e}}class At{constructor(t){this._entity=t}}class St extends At{getTimes(){let t=[];if(this._entity.attributes[dt.TIMES])this._entity.attributes[dt.TIMES].forEach((e=>{t.push(new wt(e.planned,e.estimated))}));else if(this._entity.attributes[dt.ESTIMATED_DEPARTURE_TIME]){const e=this._entity.attributes[dt.PLANNED_DEPARTURE_TIME],i=this._entity.attributes[dt.ESTIMATED_DEPARTURE_TIME],n=this._entity.attributes[dt.PLANNED_DEPARTURE_TIME_1],r=this._entity.attributes[dt.ESTIMATED_DEPARTURE_TIME_1],s=this._entity.attributes[dt.PLANNED_DEPARTURE_TIME_2],o=this._entity.attributes[dt.ESTIMATED_DEPARTURE_TIME_2],a=this._entity.attributes[dt.PLANNED_DEPARTURE_TIME_3],l=this._entity.attributes[dt.ESTIMATED_DEPARTURE_TIME_3],c=this._entity.attributes[dt.PLANNED_DEPARTURE_TIME_4],d=this._entity.attributes[dt.ESTIMATED_DEPARTURE_TIME_4];e&&t.push(new wt(e,i)),n&&t.push(new wt(n,r)),s&&t.push(new wt(s,o)),a&&t.push(new wt(a,l)),c&&t.push(new wt(c,d))}return t}getLineName(){return this._entity.attributes[dt.LINE_NAME]}getDirection(){return this._entity.attributes[dt.DIRECTION]}getTransport(){return this._entity.attributes[dt.TRANSPORT]}getTransportIcon(){return this._entity.attributes[dt.ICON]}}class Ct extends At{getTimes(){throw new Error("Not implemented yet!")}getLineName(){throw new Error("Not implemented yet!")}getDirection(){throw new Error("Not implemented yet!")}getTransport(){throw new Error("Not implemented yet!")}getTransportIcon(){throw new Error("Not implemented yet!")}}const Tt=!0,kt=ct.BASIC;class Pt{constructor(){this._data=new Map,this._unsupportedEntities=[]}get unsupportedEntities(){return this._unsupportedEntities}update(t,e){e&&t&&(this._removeObsoleteData(e),this._updateData(t,e))}getDepartures(t=!0){let e=Array.from(this._data.values()),i=[];return e.forEach((t=>{t.times.forEach((e=>{e.timeDiff>=0&&i.push({entity:t.entity,lineName:t.lineName,destinationName:t.destinationName,lineColor:t.lineColor,icon:t.icon,time:e})}))})),t&&i.sort(((t,e)=>t.time.time.getTime()-e.time.time.getTime())),i}_removeObsoleteData(t){let e=t.filter((t=>!this._data.has(t.entity)));e.forEach((t=>{this._data.delete(t.entity)}))}_updateData(t,e){this._unsupportedEntities=[],e.forEach((e=>{const i=t.states[e.entity];try{const t=xt.getParser(i);this._createOrUpdateEntry(e,t)}catch(t){t instanceof $t&&(console.warn("Not supported entity found:"+t.entityId),this._unsupportedEntities.push(t.entityId))}}))}_createOrUpdateEntry(t,e){const i=t.entity,n=t.lineName||e.getLineName(),r=t.destinationName||e.getDirection(),s=t.lineColor,o=e.getTimes(),a=t.icon||e.getTransportIcon()||"mdi:bus";if(this._data.has(t.entity)){let e=this._data.get(t.entity);e&&(e.lineName=n,e.destinationName=r,e.lineColor=s,e.icon=a,e.times=o)}else this._data.set(t.entity,{entity:i,lineName:n,destinationName:r,lineColor:s,icon:a,times:o})}}const Dt=t=>(e,i)=>{void 0!==i?i.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)},Nt={attribute:!0,type:String,converter:b,reflect:!1,hasChanged:E},Mt=(t=Nt,e,i)=>{const{kind:n,metadata:r}=i;let s=globalThis.litPropertyMetadata.get(r);if(void 0===s&&globalThis.litPropertyMetadata.set(r,s=new Map),"setter"===n&&((t=Object.create(t)).wrapped=!0),s.set(i.name,t),"accessor"===n){const{name:n}=i;return{set(i){const r=e.get.call(this);e.set.call(this,i),this.requestUpdate(n,r,t)},init(e){return void 0!==e&&this.C(n,void 0,t,e),e}}}if("setter"===n){const{name:n}=i;return function(i){const r=this[n];e.call(this,i),this.requestUpdate(n,r,t)}}throw Error("Unsupported decorator location: "+n)};function It(t){return(e,i)=>"object"==typeof i?Mt(t,e,i):((t,e,i)=>{const n=e.hasOwnProperty(i);return e.constructor.createProperty(i,t),n?Object.getOwnPropertyDescriptor(e,i):void 0})(t,e,i)}function Rt(t){return It({...t,state:!0,attribute:!1})}const Lt=1,Ot=t=>(...e)=>({_$litDirective$:t,values:e});class Ut{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}const Ht=Ot(class extends Ut{constructor(t){if(super(t),t.type!==Lt||"class"!==t.name||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){if(void 0===this.st){this.st=new Set,void 0!==t.strings&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in e)e[t]&&!this.nt?.has(t)&&this.st.add(t);return this.render(e)}const i=t.element.classList;for(const t of this.st)t in e||(i.remove(t),this.st.delete(t));for(const t in e){const n=!!e[t];n===this.st.has(t)||this.nt?.has(t)||(n?(i.add(t),this.st.add(t)):(i.remove(t),this.st.delete(t)))}return W}}),zt="important",jt=" !"+zt,Bt=Ot(class extends Ut{constructor(t){if(super(t),t.type!==Lt||"style"!==t.name||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,i)=>{const n=t[i];return null==n?e:e+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${n};`}),"")}update(t,[e]){const{style:i}=t.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(e)),this.render(e);for(const t of this.ft)null==e[t]&&(this.ft.delete(t),t.includes("-")?i.removeProperty(t):i[t]=null);for(const t in e){const n=e[t];if(null!=n){this.ft.add(t);const e="string"==typeof n&&n.endsWith(jt);t.includes("-")||e?i.setProperty(t,e?n.slice(0,-11):n,e?zt:""):i[t]=n}}return W}});function Ft(t){return!(!((e=t)instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))&&"number"!=typeof t||isNaN(+vt(t)));var e}function Wt(t,e){return(t<0?"-":"")+Math.abs(t).toString().padStart(e,"0")}const Vt={y(t,e){const i=t.getFullYear(),n=i>0?i:1-i;return Wt("yy"===e?n%100:n,e.length)},M(t,e){const i=t.getMonth();return"M"===e?String(i+1):Wt(i+1,2)},d:(t,e)=>Wt(t.getDate(),e.length),a(t,e){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];default:return"am"===i?"a.m.":"p.m."}},h:(t,e)=>Wt(t.getHours()%12||12,e.length),H:(t,e)=>Wt(t.getHours(),e.length),m:(t,e)=>Wt(t.getMinutes(),e.length),s:(t,e)=>Wt(t.getSeconds(),e.length),S(t,e){const i=e.length,n=t.getMilliseconds();return Wt(Math.trunc(n*Math.pow(10,i-3)),e.length)}},qt=/(\w)\1*|''|'(''|[^'])+('|$)|./g,Xt=/^'([^]*?)'?$/,Gt=/''/g,Zt=/[a-zA-Z]/;function Yt(t,e){const i=vt(t);if(!Ft(i))throw new RangeError("Invalid time value");const n=e.match(qt);if(!n)return"";const r=n.map((t=>{if("''"===t)return"'";const e=t[0];if("'"===e)return function(t){const e=t.match(Xt);return e?e[1].replace(Gt,"'"):t}(t);const n=Vt[e];if(n)return n(i,t);if(e.match(Zt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return t})).join("");return r}function Jt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Kt="(prefers-reduced-motion: reduce)",Qt={CREATED:1,MOUNTED:2,IDLE:3,MOVING:4,SCROLLING:5,DRAGGING:6,DESTROYED:7};function te(t){t.length=0}function ee(t,e,i){return Array.prototype.slice.call(t,e,i)}function ie(t){return t.bind.apply(t,[null].concat(ee(arguments,1)))}var ne=setTimeout,re=function(){};function se(t){return requestAnimationFrame(t)}function oe(t,e){return typeof e===t}function ae(t){return!he(t)&&oe("object",t)}var le=Array.isArray,ce=ie(oe,"function"),de=ie(oe,"string"),ue=ie(oe,"undefined");function he(t){return null===t}function pe(t){try{return t instanceof(t.ownerDocument.defaultView||window).HTMLElement}catch(t){return!1}}function fe(t){return le(t)?t:[t]}function ge(t,e){fe(t).forEach(e)}function me(t,e){return t.indexOf(e)>-1}function _e(t,e){return t.push.apply(t,fe(e)),t}function ve(t,e,i){t&&ge(e,(function(e){e&&t.classList[i?"add":"remove"](e)}))}function ye(t,e){ve(t,de(e)?e.split(" "):e,!0)}function be(t,e){ge(e,t.appendChild.bind(t))}function Ee(t,e){ge(t,(function(t){var i=(e||t).parentNode;i&&i.insertBefore(t,e)}))}function we(t,e){return pe(t)&&(t.msMatchesSelector||t.matches).call(t,e)}function $e(t,e){var i=t?ee(t.children):[];return e?i.filter((function(t){return we(t,e)})):i}function xe(t,e){return e?$e(t,e)[0]:t.firstElementChild}var Ae=Object.keys;function Se(t,e,i){return t&&(i?Ae(t).reverse():Ae(t)).forEach((function(i){"__proto__"!==i&&e(t[i],i)})),t}function Ce(t){return ee(arguments,1).forEach((function(e){Se(e,(function(i,n){t[n]=e[n]}))})),t}function Te(t){return ee(arguments,1).forEach((function(e){Se(e,(function(e,i){le(e)?t[i]=e.slice():ae(e)?t[i]=Te({},ae(t[i])?t[i]:{},e):t[i]=e}))})),t}function ke(t,e){ge(e||Ae(t),(function(e){delete t[e]}))}function Pe(t,e){ge(t,(function(t){ge(e,(function(e){t&&t.removeAttribute(e)}))}))}function De(t,e,i){ae(e)?Se(e,(function(e,i){De(t,i,e)})):ge(t,(function(t){he(i)||""===i?Pe(t,e):t.setAttribute(e,String(i))}))}function Ne(t,e,i){var n=document.createElement(t);return e&&(de(e)?ye(n,e):De(n,e)),i&&be(i,n),n}function Me(t,e,i){if(ue(i))return getComputedStyle(t)[e];he(i)||(t.style[e]=""+i)}function Ie(t,e){Me(t,"display",e)}function Re(t){t.setActive&&t.setActive()||t.focus({preventScroll:!0})}function Le(t,e){return t.getAttribute(e)}function Oe(t,e){return t&&t.classList.contains(e)}function Ue(t){return t.getBoundingClientRect()}function He(t){ge(t,(function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}))}function ze(t){return xe((new DOMParser).parseFromString(t,"text/html").body)}function je(t,e){t.preventDefault(),e&&(t.stopPropagation(),t.stopImmediatePropagation())}function Be(t,e){return t&&t.querySelector(e)}function Fe(t,e){return e?ee(t.querySelectorAll(e)):[]}function We(t,e){ve(t,e,!1)}function Ve(t){return t.timeStamp}function qe(t){return de(t)?t:t?t+"px":""}var Xe="splide",Ge="data-"+Xe;function Ze(t,e){if(!t)throw new Error("["+Xe+"] "+(e||""))}var Ye=Math.min,Je=Math.max,Ke=Math.floor,Qe=Math.ceil,ti=Math.abs;function ei(t,e,i){return ti(t-e)<i}function ii(t,e,i,n){var r=Ye(e,i),s=Je(e,i);return n?r<t&&t<s:r<=t&&t<=s}function ni(t,e,i){var n=Ye(e,i),r=Je(e,i);return Ye(Je(n,t),r)}function ri(t){return+(t>0)-+(t<0)}function si(t,e){return ge(e,(function(e){t=t.replace("%s",""+e)})),t}function oi(t){return t<10?"0"+t:""+t}var ai={};function li(){var t=[];function e(t,e,i){ge(t,(function(t){t&&ge(e,(function(e){e.split(" ").forEach((function(e){var n=e.split(".");i(t,n[0],n[1])}))}))}))}return{bind:function(i,n,r,s){e(i,n,(function(e,i,n){var o="addEventListener"in e,a=o?e.removeEventListener.bind(e,i,r,s):e.removeListener.bind(e,r);o?e.addEventListener(i,r,s):e.addListener(r),t.push([e,i,n,r,a])}))},unbind:function(i,n,r){e(i,n,(function(e,i,n){t=t.filter((function(t){return!!(t[0]!==e||t[1]!==i||t[2]!==n||r&&t[3]!==r)||(t[4](),!1)}))}))},dispatch:function(t,e,i){var n,r=!0;return"function"==typeof CustomEvent?n=new CustomEvent(e,{bubbles:r,detail:i}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,r,!1,i),t.dispatchEvent(n),n},destroy:function(){t.forEach((function(t){t[4]()})),te(t)}}}var ci="mounted",di="ready",ui="move",hi="moved",pi="click",fi="active",gi="inactive",mi="visible",_i="hidden",vi="refresh",yi="updated",bi="resize",Ei="resized",wi="scroll",$i="scrolled",xi="destroy",Ai="arrows:mounted",Si="navigation:mounted",Ci="autoplay:play",Ti="autoplay:pause",ki="lazyload:loaded",Pi="sk",Di="sh",Ni="ei";function Mi(t){var e=t?t.event.bus:document.createDocumentFragment(),i=li();return t&&t.event.on(xi,i.destroy),Ce(i,{bus:e,on:function(t,n){i.bind(e,fe(t).join(" "),(function(t){n.apply(n,le(t.detail)?t.detail:[])}))},off:ie(i.unbind,e),emit:function(t){i.dispatch(e,t,ee(arguments,1))}})}function Ii(t,e,i,n){var r,s,o=Date.now,a=0,l=!0,c=0;function d(){if(!l){if(a=t?Ye((o()-r)/t,1):1,i&&i(a),a>=1&&(e(),r=o(),n&&++c>=n))return u();s=se(d)}}function u(){l=!0}function h(){s&&cancelAnimationFrame(s),a=0,s=0,l=!0}return{start:function(e){e||h(),r=o()-(e?a*t:0),l=!1,s=se(d)},rewind:function(){r=o(),a=0,i&&i(a)},pause:u,cancel:h,set:function(e){t=e},isPaused:function(){return l}}}var Ri="Arrow",Li=Ri+"Left",Oi=Ri+"Right",Ui=Ri+"Up",Hi=Ri+"Down",zi="ttb",ji={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[Ui,Oi],ArrowRight:[Hi,Li]};var Bi="role",Fi="tabindex",Wi="aria-",Vi=Wi+"controls",qi=Wi+"current",Xi=Wi+"selected",Gi=Wi+"label",Zi=Wi+"labelledby",Yi=Wi+"hidden",Ji=Wi+"orientation",Ki=Wi+"roledescription",Qi=Wi+"live",tn=Wi+"busy",en=Wi+"atomic",nn=[Bi,Fi,"disabled",Vi,qi,Gi,Zi,Yi,Ji,Ki],rn=Xe+"__",sn="is-",on=Xe,an=rn+"track",ln=rn+"list",cn=rn+"slide",dn=cn+"--clone",un=cn+"__container",hn=rn+"arrows",pn=rn+"arrow",fn=pn+"--prev",gn=pn+"--next",mn=rn+"pagination",_n=mn+"__page",vn=rn+"progress"+"__bar",yn=rn+"toggle",bn=rn+"sr",En=sn+"initialized",wn=sn+"active",$n=sn+"prev",xn=sn+"next",An=sn+"visible",Sn=sn+"loading",Cn=sn+"focus-in",Tn=sn+"overflow",kn=[wn,An,$n,xn,Sn,Cn,Tn],Pn={slide:cn,clone:dn,arrows:hn,arrow:pn,prev:fn,next:gn,pagination:mn,page:_n,spinner:rn+"spinner"};var Dn="touchstart mousedown",Nn="touchmove mousemove",Mn="touchend touchcancel mouseup click";var In="slide",Rn="loop",Ln="fade";function On(t,e,i,n){var r,s=Mi(t),o=s.on,a=s.emit,l=s.bind,c=t.Components,d=t.root,u=t.options,h=u.isNavigation,p=u.updateOnMove,f=u.i18n,g=u.pagination,m=u.slideFocus,_=c.Direction.resolve,v=Le(n,"style"),y=Le(n,Gi),b=i>-1,E=xe(n,"."+un);function w(){var r=t.splides.map((function(t){var i=t.splide.Components.Slides.getAt(e);return i?i.slide.id:""})).join(" ");De(n,Gi,si(f.slideX,(b?i:e)+1)),De(n,Vi,r),De(n,Bi,m?"button":""),m&&Pe(n,Ki)}function $(){r||x()}function x(){if(!r){var i=t.index;(s=A())!==Oe(n,wn)&&(ve(n,wn,s),De(n,qi,h&&s||""),a(s?fi:gi,S)),function(){var e=function(){if(t.is(Ln))return A();var e=Ue(c.Elements.track),i=Ue(n),r=_("left",!0),s=_("right",!0);return Ke(e[r])<=Qe(i[r])&&Ke(i[s])<=Qe(e[s])}(),i=!e&&(!A()||b);t.state.is([4,5])||De(n,Yi,i||"");De(Fe(n,u.focusableNodes||""),Fi,i?-1:""),m&&De(n,Fi,i?-1:0);e!==Oe(n,An)&&(ve(n,An,e),a(e?mi:_i,S));if(!e&&document.activeElement===n){var r=c.Slides.getAt(t.index);r&&Re(r.slide)}}(),ve(n,$n,e===i-1),ve(n,xn,e===i+1)}var s}function A(){var n=t.index;return n===e||u.cloneStatus&&n===i}var S={index:e,slideIndex:i,slide:n,container:E,isClone:b,mount:function(){b||(n.id=d.id+"-slide"+oi(e+1),De(n,Bi,g?"tabpanel":"group"),De(n,Ki,f.slide),De(n,Gi,y||si(f.slideLabel,[e+1,t.length]))),l(n,"click",ie(a,pi,S)),l(n,"keydown",ie(a,Pi,S)),o([hi,Di,$i],x),o(Si,w),p&&o(ui,$)},destroy:function(){r=!0,s.destroy(),We(n,kn),Pe(n,nn),De(n,"style",v),De(n,Gi,y||"")},update:x,style:function(t,e,i){Me(i&&E||n,t,e)},isWithin:function(i,n){var r=ti(i-e);return b||!u.rewind&&!t.is(Rn)||(r=Ye(r,t.length-r)),r<=n}};return S}var Un=Ge+"-interval";var Hn={passive:!1,capture:!0};var zn={Spacebar:" ",Right:Oi,Left:Li,Up:Ui,Down:Hi};function jn(t){return t=de(t)?t:t.key,zn[t]||t}var Bn="keydown";var Fn=Ge+"-lazy",Wn=Fn+"-srcset",Vn="["+Fn+"], ["+Wn+"]";var qn=[" ","Enter"];var Xn=Object.freeze({__proto__:null,Media:function(t,e,i){var n=t.state,r=i.breakpoints||{},s=i.reducedMotion||{},o=li(),a=[];function l(t){t&&o.destroy()}function c(t,e){var i=matchMedia(e);o.bind(i,"change",d),a.push([t,i])}function d(){var e=n.is(7),r=i.direction,s=a.reduce((function(t,e){return Te(t,e[1].matches?e[0]:{})}),{});ke(i),u(s),i.destroy?t.destroy("completely"===i.destroy):e?(l(!0),t.mount()):r!==i.direction&&t.refresh()}function u(e,r,s){Te(i,e),r&&Te(Object.getPrototypeOf(i),e),!s&&n.is(1)||t.emit(yi,i)}return{setup:function(){var t="min"===i.mediaQuery;Ae(r).sort((function(e,i){return t?+e-+i:+i-+e})).forEach((function(e){c(r[e],"("+(t?"min":"max")+"-width:"+e+"px)")})),c(s,Kt),d()},destroy:l,reduce:function(t){matchMedia(Kt).matches&&(t?Te(i,s):ke(i,Ae(s)))},set:u}},Direction:function(t,e,i){return{resolve:function(t,e,n){var r="rtl"!==(n=n||i.direction)||e?n===zi?0:-1:1;return ji[t]&&ji[t][r]||t.replace(/width|left|right/i,(function(t,e){var i=ji[t.toLowerCase()][r]||t;return e>0?i.charAt(0).toUpperCase()+i.slice(1):i}))},orient:function(t){return t*("rtl"===i.direction?1:-1)}}},Elements:function(t,e,i){var n,r,s,o=Mi(t),a=o.on,l=o.bind,c=t.root,d=i.i18n,u={},h=[],p=[],f=[];function g(){n=v("."+an),r=xe(n,"."+ln),Ze(n&&r,"A track/list element is missing."),_e(h,$e(r,"."+cn+":not(."+dn+")")),Se({arrows:hn,pagination:mn,prev:fn,next:gn,bar:vn,toggle:yn},(function(t,e){u[e]=v("."+t)})),Ce(u,{root:c,track:n,list:r,slides:h}),function(){var t=c.id||(s=Xe,""+s+oi(ai[s]=(ai[s]||0)+1)),e=i.role;var s;c.id=t,n.id=n.id||t+"-track",r.id=r.id||t+"-list",!Le(c,Bi)&&"SECTION"!==c.tagName&&e&&De(c,Bi,e);De(c,Ki,d.carousel),De(r,Bi,"presentation")}(),_()}function m(t){var e=nn.concat("style");te(h),We(c,p),We(n,f),Pe([n,r],e),Pe(c,t?e:["style",Ki])}function _(){We(c,p),We(n,f),p=y(on),f=y(an),ye(c,p),ye(n,f),De(c,Gi,i.label),De(c,Zi,i.labelledby)}function v(t){var e=Be(c,t);return e&&function(t,e){if(ce(t.closest))return t.closest(e);for(var i=t;i&&1===i.nodeType&&!we(i,e);)i=i.parentElement;return i}(e,"."+on)===c?e:void 0}function y(t){return[t+"--"+i.type,t+"--"+i.direction,i.drag&&t+"--draggable",i.isNavigation&&t+"--nav",t===on&&wn]}return Ce(u,{setup:g,mount:function(){a(vi,m),a(vi,g),a(yi,_),l(document,Dn+" keydown",(function(t){s="keydown"===t.type}),{capture:!0}),l(c,"focusin",(function(){ve(c,Cn,!!s)}))},destroy:m})},Slides:function(t,e,i){var n=Mi(t),r=n.on,s=n.emit,o=n.bind,a=e.Elements,l=a.slides,c=a.list,d=[];function u(){l.forEach((function(t,e){p(t,e,-1)}))}function h(){g((function(t){t.destroy()})),te(d)}function p(e,i,n){var r=On(t,i,n,e);r.mount(),d.push(r),d.sort((function(t,e){return t.index-e.index}))}function f(t){return t?m((function(t){return!t.isClone})):d}function g(t,e){f(e).forEach(t)}function m(t){return d.filter(ce(t)?t:function(e){return de(t)?we(e.slide,t):me(fe(t),e.index)})}return{mount:function(){u(),r(vi,h),r(vi,u)},destroy:h,update:function(){g((function(t){t.update()}))},register:p,get:f,getIn:function(t){var n=e.Controller,r=n.toIndex(t),s=n.hasFocus()?1:i.perPage;return m((function(t){return ii(t.index,r,r+s-1)}))},getAt:function(t){return m(t)[0]},add:function(t,e){ge(t,(function(t){if(de(t)&&(t=ze(t)),pe(t)){var n=l[e];n?Ee(t,n):be(c,t),ye(t,i.classes.slide),r=t,a=ie(s,bi),d=Fe(r,"img"),(u=d.length)?d.forEach((function(t){o(t,"load error",(function(){--u||a()}))})):a()}var r,a,d,u})),s(vi)},remove:function(t){He(m(t).map((function(t){return t.slide}))),s(vi)},forEach:g,filter:m,style:function(t,e,i){g((function(n){n.style(t,e,i)}))},getLength:function(t){return t?l.length:d.length},isEnough:function(){return d.length>i.perPage}}},Layout:function(t,e,i){var n,r,s,o=Mi(t),a=o.on,l=o.bind,c=o.emit,d=e.Slides,u=e.Direction.resolve,h=e.Elements,p=h.root,f=h.track,g=h.list,m=d.getAt,_=d.style;function v(){n=i.direction===zi,Me(p,"maxWidth",qe(i.width)),Me(f,u("paddingLeft"),b(!1)),Me(f,u("paddingRight"),b(!0)),y(!0)}function y(t){var e=Ue(p);(t||r.width!==e.width||r.height!==e.height)&&(Me(f,"height",function(){var t="";n&&(Ze(t=E(),"height or heightRatio is missing."),t="calc("+t+" - "+b(!1)+" - "+b(!0)+")");return t}()),_(u("marginRight"),qe(i.gap)),_("width",i.autoWidth?null:qe(i.fixedWidth)||(n?"":w())),_("height",qe(i.fixedHeight)||(n?i.autoHeight?null:w():E()),!0),r=e,c(Ei),s!==(s=T())&&(ve(p,Tn,s),c("overflow",s)))}function b(t){var e=i.padding,n=u(t?"right":"left");return e&&qe(e[n]||(ae(e)?0:e))||"0px"}function E(){return qe(i.height||Ue(g).width*i.heightRatio)}function w(){var t=qe(i.gap);return"calc((100%"+(t&&" + "+t)+")/"+(i.perPage||1)+(t&&" - "+t)+")"}function $(){return Ue(g)[u("width")]}function x(t,e){var i=m(t||0);return i?Ue(i.slide)[u("width")]+(e?0:C()):0}function A(t,e){var i=m(t);if(i){var n=Ue(i.slide)[u("right")],r=Ue(g)[u("left")];return ti(n-r)+(e?0:C())}return 0}function S(e){return A(t.length-1)-A(0)+x(0,e)}function C(){var t=m(0);return t&&parseFloat(Me(t.slide,u("marginRight")))||0}function T(){return t.is(Ln)||S(!0)>$()}return{mount:function(){var t,e,i;v(),l(window,"resize load",(t=ie(c,bi),i=Ii(e||0,t,null,1),function(){i.isPaused()&&i.start()})),a([yi,vi],v),a(bi,y)},resize:y,listSize:$,slideSize:x,sliderSize:S,totalSize:A,getPadding:function(t){return parseFloat(Me(f,u("padding"+(t?"Right":"Left"))))||0},isOverflow:T}},Clones:function(t,e,i){var n,r=Mi(t),s=r.on,o=e.Elements,a=e.Slides,l=e.Direction.resolve,c=[];function d(){s(vi,u),s([yi,bi],p),(n=f())&&(!function(e){var n=a.get().slice(),r=n.length;if(r){for(;n.length<e;)_e(n,n);_e(n.slice(-e),n.slice(0,e)).forEach((function(s,l){var d=l<e,u=function(e,n){var r=e.cloneNode(!0);return ye(r,i.classes.clone),r.id=t.root.id+"-clone"+oi(n+1),r}(s.slide,l);d?Ee(u,n[0].slide):be(o.list,u),_e(c,u),a.register(u,l-e+(d?0:r),s.index)}))}}(n),e.Layout.resize(!0))}function u(){h(),d()}function h(){He(c),te(c),r.destroy()}function p(){var t=f();n!==t&&(n<t||!t)&&r.emit(vi)}function f(){var n=i.clones;if(t.is(Rn)){if(ue(n)){var r=i[l("fixedWidth")]&&e.Layout.slideSize(0);n=r&&Qe(Ue(o.track)[l("width")]/r)||i[l("autoWidth")]&&t.length||2*i.perPage}}else n=0;return n}return{mount:d,destroy:h}},Move:function(t,e,i){var n,r=Mi(t),s=r.on,o=r.emit,a=t.state.set,l=e.Layout,c=l.slideSize,d=l.getPadding,u=l.totalSize,h=l.listSize,p=l.sliderSize,f=e.Direction,g=f.resolve,m=f.orient,_=e.Elements,v=_.list,y=_.track;function b(){e.Controller.isBusy()||(e.Scroll.cancel(),E(t.index),e.Slides.update())}function E(t){w(S(t,!0))}function w(i,n){if(!t.is(Ln)){var r=n?i:function(i){if(t.is(Rn)){var n=A(i),r=n>e.Controller.getEnd();(n<0||r)&&(i=$(i,r))}return i}(i);Me(v,"transform","translate"+g("X")+"("+r+"px)"),i!==r&&o(Di)}}function $(t,e){var i=t-T(e),n=p();return t-=m(n*(Qe(ti(i)/n)||1))*(e?1:-1)}function x(){w(C(),!0),n.cancel()}function A(t){for(var i=e.Slides.get(),n=0,r=1/0,s=0;s<i.length;s++){var o=i[s].index,a=ti(S(o,!0)-t);if(!(a<=r))break;r=a,n=o}return n}function S(e,n){var r=m(u(e-1)-function(t){var e=i.focus;return"center"===e?(h()-c(t,!0))/2:+e*c(t)||0}(e));return n?function(e){i.trimSpace&&t.is(In)&&(e=ni(e,0,m(p(!0)-h())));return e}(r):r}function C(){var t=g("left");return Ue(v)[t]-Ue(y)[t]+m(d(!1))}function T(t){return S(t?e.Controller.getEnd():0,!!i.trimSpace)}return{mount:function(){n=e.Transition,s([ci,Ei,yi,vi],b)},move:function(t,e,i,r){var s,l;t!==e&&(s=t>i,l=m($(C(),s)),s?l>=0:l<=v[g("scrollWidth")]-Ue(y)[g("width")])&&(x(),w($(C(),t>i),!0)),a(4),o(ui,e,i,t),n.start(e,(function(){a(3),o(hi,e,i,t),r&&r()}))},jump:E,translate:w,shift:$,cancel:x,toIndex:A,toPosition:S,getPosition:C,getLimit:T,exceededLimit:function(t,e){e=ue(e)?C():e;var i=!0!==t&&m(e)<m(T(!1)),n=!1!==t&&m(e)>m(T(!0));return i||n},reposition:b}},Controller:function(t,e,i){var n,r,s,o,a=Mi(t),l=a.on,c=a.emit,d=e.Move,u=d.getPosition,h=d.getLimit,p=d.toPosition,f=e.Slides,g=f.isEnough,m=f.getLength,_=i.omitEnd,v=t.is(Rn),y=t.is(In),b=ie(S,!1),E=ie(S,!0),w=i.start||0,$=w;function x(){r=m(!0),s=i.perMove,o=i.perPage,n=k();var t=ni(w,0,_?n:r-1);t!==w&&(w=t,d.reposition())}function A(){n!==k()&&c(Ni)}function S(t,e){var i=s||(M()?1:o),r=C(w+i*(t?-1:1),w,!(s||M()));return-1===r&&y&&!ei(u(),h(!t),1)?t?0:n:e?r:T(r)}function C(e,a,l){if(g()||M()){var c=function(e){if(y&&"move"===i.trimSpace&&e!==w)for(var n=u();n===p(e,!0)&&ii(e,0,t.length-1,!i.rewind);)e<w?--e:++e;return e}(e);c!==e&&(a=e,e=c,l=!1),e<0||e>n?e=s||!ii(0,e,a,!0)&&!ii(n,a,e,!0)?v?l?e<0?-(r%o||o):r:e:i.rewind?e<0?n:0:-1:P(D(e)):l&&e!==a&&(e=P(D(a)+(e<a?-1:1)))}else e=-1;return e}function T(t){return v?(t+r)%r||0:t}function k(){for(var t=r-(M()||v&&s?1:o);_&&t-- >0;)if(p(r-1,!0)!==p(t,!0)){t++;break}return ni(t,0,r-1)}function P(t){return ni(M()?t:o*t,0,n)}function D(t){return M()?Ye(t,n):Ke((t>=n?r-1:t)/o)}function N(t){t!==w&&($=w,w=t)}function M(){return!ue(i.focus)||i.isNavigation}function I(){return t.state.is([4,5])&&!!i.waitForTransition}return{mount:function(){x(),l([yi,vi,Ni],x),l(Ei,A)},go:function(t,e,i){if(!I()){var r=function(t){var e=w;if(de(t)){var i=t.match(/([+\-<>])(\d+)?/)||[],r=i[1],s=i[2];"+"===r||"-"===r?e=C(w+ +(""+r+(+s||1)),w):">"===r?e=s?P(+s):b(!0):"<"===r&&(e=E(!0))}else e=v?t:ni(t,0,n);return e}(t),s=T(r);s>-1&&(e||s!==w)&&(N(s),d.move(r,s,$,i))}},scroll:function(t,i,r,s){e.Scroll.scroll(t,i,r,(function(){var t=T(d.toIndex(u()));N(_?Ye(t,n):t),s&&s()}))},getNext:b,getPrev:E,getAdjacent:S,getEnd:k,setIndex:N,getIndex:function(t){return t?$:w},toIndex:P,toPage:D,toDest:function(t){var e=d.toIndex(t);return y?ni(e,0,n):e},hasFocus:M,isBusy:I}},Arrows:function(t,e,i){var n,r,s=Mi(t),o=s.on,a=s.bind,l=s.emit,c=i.classes,d=i.i18n,u=e.Elements,h=e.Controller,p=u.arrows,f=u.track,g=p,m=u.prev,_=u.next,v={};function y(){!function(){var t=i.arrows;!t||m&&_||(g=p||Ne("div",c.arrows),m=$(!0),_=$(!1),n=!0,be(g,[m,_]),!p&&Ee(g,f));m&&_&&(Ce(v,{prev:m,next:_}),Ie(g,t?"":"none"),ye(g,r=hn+"--"+i.direction),t&&(o([ci,hi,vi,$i,Ni],x),a(_,"click",ie(w,">")),a(m,"click",ie(w,"<")),x(),De([m,_],Vi,f.id),l(Ai,m,_)))}(),o(yi,b)}function b(){E(),y()}function E(){s.destroy(),We(g,r),n?(He(p?[m,_]:g),m=_=null):Pe([m,_],nn)}function w(t){h.go(t,!0)}function $(t){return ze('<button class="'+c.arrow+" "+(t?c.prev:c.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40" focusable="false"><path d="'+(i.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}function x(){if(m&&_){var e=t.index,i=h.getPrev(),n=h.getNext(),r=i>-1&&e<i?d.last:d.prev,s=n>-1&&e>n?d.first:d.next;m.disabled=i<0,_.disabled=n<0,De(m,Gi,r),De(_,Gi,s),l("arrows:updated",m,_,i,n)}}return{arrows:v,mount:y,destroy:E,update:x}},Autoplay:function(t,e,i){var n,r,s=Mi(t),o=s.on,a=s.bind,l=s.emit,c=Ii(i.interval,t.go.bind(t,">"),(function(t){var e=u.bar;e&&Me(e,"width",100*t+"%"),l("autoplay:playing",t)})),d=c.isPaused,u=e.Elements,h=e.Elements,p=h.root,f=h.toggle,g=i.autoplay,m="pause"===g;function _(){d()&&e.Slides.isEnough()&&(c.start(!i.resetProgress),r=n=m=!1,b(),l(Ci))}function v(t){void 0===t&&(t=!0),m=!!t,b(),d()||(c.pause(),l(Ti))}function y(){m||(n||r?v(!1):_())}function b(){f&&(ve(f,wn,!m),De(f,Gi,i.i18n[m?"play":"pause"]))}function E(t){var n=e.Slides.getAt(t);c.set(n&&+Le(n.slide,Un)||i.interval)}return{mount:function(){g&&(!function(){i.pauseOnHover&&a(p,"mouseenter mouseleave",(function(t){n="mouseenter"===t.type,y()}));i.pauseOnFocus&&a(p,"focusin focusout",(function(t){r="focusin"===t.type,y()}));f&&a(f,"click",(function(){m?_():v(!0)}));o([ui,wi,vi],c.rewind),o(ui,E)}(),f&&De(f,Vi,u.track.id),m||_(),b())},destroy:c.cancel,play:_,pause:v,isPaused:d}},Cover:function(t,e,i){var n=Mi(t).on;function r(t){e.Slides.forEach((function(e){var i=xe(e.container||e.slide,"img");i&&i.src&&s(t,i,e)}))}function s(t,e,i){i.style("background",t?'center/cover no-repeat url("'+e.src+'")':"",!0),Ie(e,t?"none":"")}return{mount:function(){i.cover&&(n(ki,ie(s,!0)),n([ci,yi,vi],ie(r,!0)))},destroy:ie(r,!1)}},Scroll:function(t,e,i){var n,r,s=Mi(t),o=s.on,a=s.emit,l=t.state.set,c=e.Move,d=c.getPosition,u=c.getLimit,h=c.exceededLimit,p=c.translate,f=t.is(In),g=1;function m(t,i,s,o,u){var p=d();if(y(),s&&(!f||!h())){var m=e.Layout.sliderSize(),b=ri(t)*m*Ke(ti(t)/m)||0;t=c.toPosition(e.Controller.toDest(t%m))+b}var E=ei(p,t,1);g=1,i=E?0:i||Je(ti(t-p)/1.5,800),r=o,n=Ii(i,_,ie(v,p,t,u),1),l(5),a(wi),n.start()}function _(){l(3),r&&r(),a($i)}function v(t,e,n,s){var o=d(),a=t+(e-t)*function(t){var e=i.easingFunc;return e?e(t):1-Math.pow(1-t,4)}(s),l=(a-o)*g;p(o+l),f&&!n&&h()&&(g*=.6,ti(l)<10&&m(u(h(!0)),600,!1,r,!0))}function y(){n&&n.cancel()}function b(){n&&!n.isPaused()&&(y(),_())}return{mount:function(){o(ui,y),o([yi,vi],b)},destroy:y,scroll:m,cancel:b}},Drag:function(t,e,i){var n,r,s,o,a,l,c,d,u=Mi(t),h=u.on,p=u.emit,f=u.bind,g=u.unbind,m=t.state,_=e.Move,v=e.Scroll,y=e.Controller,b=e.Elements.track,E=e.Media.reduce,w=e.Direction,$=w.resolve,x=w.orient,A=_.getPosition,S=_.exceededLimit,C=!1;function T(){var t=i.drag;H(!t),o="free"===t}function k(t){if(l=!1,!c){var e=U(t);n=t.target,r=i.noDrag,we(n,"."+_n+", ."+pn)||r&&we(n,r)||!e&&t.button||(y.isBusy()?je(t,!0):(d=e?b:window,a=m.is([4,5]),s=null,f(d,Nn,P,Hn),f(d,Mn,D,Hn),_.cancel(),v.cancel(),M(t)))}var n,r}function P(e){if(m.is(6)||(m.set(6),p("drag")),e.cancelable)if(a){_.translate(n+I(e)/(C&&t.is(In)?5:1));var r=R(e)>200,s=C!==(C=S());(r||s)&&M(e),l=!0,p("dragging"),je(e)}else(function(t){return ti(I(t))>ti(I(t,!0))})(e)&&(a=function(t){var e=i.dragMinThreshold,n=ae(e),r=n&&e.mouse||0,s=(n?e.touch:+e)||10;return ti(I(t))>(U(t)?s:r)}(e),je(e))}function D(n){m.is(6)&&(m.set(3),p("dragged")),a&&(!function(n){var r=function(e){if(t.is(Rn)||!C){var i=R(e);if(i&&i<200)return I(e)/i}return 0}(n),s=function(t){return A()+ri(t)*Ye(ti(t)*(i.flickPower||600),o?1/0:e.Layout.listSize()*(i.flickMaxPages||1))}(r),a=i.rewind&&i.rewindByDrag;E(!1),o?y.scroll(s,0,i.snap):t.is(Ln)?y.go(x(ri(r))<0?a?"<":"-":a?">":"+"):t.is(In)&&C&&a?y.go(S(!0)?">":"<"):y.go(y.toDest(s),!0);E(!0)}(n),je(n)),g(d,Nn,P),g(d,Mn,D),a=!1}function N(t){!c&&l&&je(t,!0)}function M(t){s=r,r=t,n=A()}function I(t,e){return O(t,e)-O(L(t),e)}function R(t){return Ve(t)-Ve(L(t))}function L(t){return r===t&&s||r}function O(t,e){return(U(t)?t.changedTouches[0]:t)["page"+$(e?"Y":"X")]}function U(t){return"undefined"!=typeof TouchEvent&&t instanceof TouchEvent}function H(t){c=t}return{mount:function(){f(b,Nn,re,Hn),f(b,Mn,re,Hn),f(b,Dn,k,Hn),f(b,"click",N,{capture:!0}),f(b,"dragstart",je),h([ci,yi],T)},disable:H,isDragging:function(){return a}}},Keyboard:function(t,e,i){var n,r,s=Mi(t),o=s.on,a=s.bind,l=s.unbind,c=t.root,d=e.Direction.resolve;function u(){var t=i.keyboard;t&&(n="global"===t?window:c,a(n,Bn,f))}function h(){l(n,Bn)}function p(){var t=r;r=!0,ne((function(){r=t}))}function f(e){if(!r){var i=jn(e);i===d(Li)?t.go("<"):i===d(Oi)&&t.go(">")}}return{mount:function(){u(),o(yi,h),o(yi,u),o(ui,p)},destroy:h,disable:function(t){r=t}}},LazyLoad:function(t,e,i){var n=Mi(t),r=n.on,s=n.off,o=n.bind,a=n.emit,l="sequential"===i.lazyLoad,c=[hi,$i],d=[];function u(){te(d),e.Slides.forEach((function(t){Fe(t.slide,Vn).forEach((function(e){var n=Le(e,Fn),r=Le(e,Wn);if(n!==e.src||r!==e.srcset){var s=i.classes.spinner,o=e.parentElement,a=xe(o,"."+s)||Ne("span",s,o);d.push([e,t,a]),e.src||Ie(e,"none")}}))})),l?g():(s(c),r(c,h),h())}function h(){(d=d.filter((function(e){var n=i.perPage*((i.preloadPages||1)+1)-1;return!e[1].isWithin(t.index,n)||p(e)}))).length||s(c)}function p(t){var e=t[0];ye(t[1].slide,Sn),o(e,"load error",ie(f,t)),De(e,"src",Le(e,Fn)),De(e,"srcset",Le(e,Wn)),Pe(e,Fn),Pe(e,Wn)}function f(t,e){var i=t[0],n=t[1];We(n.slide,Sn),"error"!==e.type&&(He(t[2]),Ie(i,""),a(ki,i,n),a(bi)),l&&g()}function g(){d.length&&p(d.shift())}return{mount:function(){i.lazyLoad&&(u(),r(vi,u))},destroy:ie(te,d),check:h}},Pagination:function(t,e,i){var n,r,s=Mi(t),o=s.on,a=s.emit,l=s.bind,c=e.Slides,d=e.Elements,u=e.Controller,h=u.hasFocus,p=u.getIndex,f=u.go,g=e.Direction.resolve,m=d.pagination,_=[];function v(){n&&(He(m?ee(n.children):n),We(n,r),te(_),n=null),s.destroy()}function y(t){f(">"+t,!0)}function b(t,e){var i=_.length,n=jn(e),r=E(),s=-1;n===g(Oi,!1,r)?s=++t%i:n===g(Li,!1,r)?s=(--t+i)%i:"Home"===n?s=0:"End"===n&&(s=i-1);var o=_[s];o&&(Re(o.button),f(">"+s),je(e,!0))}function E(){return i.paginationDirection||i.direction}function w(t){return _[u.toPage(t)]}function $(){var t=w(p(!0)),e=w(p());if(t){var i=t.button;We(i,wn),Pe(i,Xi),De(i,Fi,-1)}if(e){var r=e.button;ye(r,wn),De(r,Xi,!0),De(r,Fi,"")}a("pagination:updated",{list:n,items:_},t,e)}return{items:_,mount:function e(){v(),o([yi,vi,Ni],e);var s=i.pagination;m&&Ie(m,s?"":"none"),s&&(o([ui,wi,$i],$),function(){var e=t.length,s=i.classes,o=i.i18n,a=i.perPage,p=h()?u.getEnd()+1:Qe(e/a);ye(n=m||Ne("ul",s.pagination,d.track.parentElement),r=mn+"--"+E()),De(n,Bi,"tablist"),De(n,Gi,o.select),De(n,Ji,E()===zi?"vertical":"");for(var f=0;f<p;f++){var g=Ne("li",null,n),v=Ne("button",{class:s.page,type:"button"},g),w=c.getIn(f).map((function(t){return t.slide.id})),$=!h()&&a>1?o.pageX:o.slideX;l(v,"click",ie(y,f)),i.paginationKeyboard&&l(v,"keydown",ie(b,f)),De(g,Bi,"presentation"),De(v,Bi,"tab"),De(v,Vi,w.join(" ")),De(v,Gi,si($,f+1)),De(v,Fi,-1),_.push({li:g,button:v,page:f})}}(),$(),a("pagination:mounted",{list:n,items:_},w(t.index)))},destroy:v,getAt:w,update:$}},Sync:function(t,e,i){var n=i.isNavigation,r=i.slideFocus,s=[];function o(){var e,i;t.splides.forEach((function(e){e.isParent||(l(t,e.splide),l(e.splide,t))})),n&&(e=Mi(t),(i=e.on)(pi,d),i(Pi,u),i([ci,yi],c),s.push(e),e.emit(Si,t.splides))}function a(){s.forEach((function(t){t.destroy()})),te(s)}function l(t,e){var i=Mi(t);i.on(ui,(function(t,i,n){e.go(e.is(Rn)?n:t)})),s.push(i)}function c(){De(e.Elements.list,Ji,i.direction===zi?"vertical":"")}function d(e){t.go(e.index)}function u(t,e){me(qn,jn(e))&&(d(t),je(e))}return{setup:ie(e.Media.set,{slideFocus:ue(r)?n:r},!0),mount:o,destroy:a,remount:function(){a(),o()}}},Wheel:function(t,e,i){var n=Mi(t).bind,r=0;function s(n){if(n.cancelable){var s=n.deltaY,o=s<0,a=Ve(n),l=i.wheelMinThreshold||0,c=i.wheelSleep||0;ti(s)>l&&a-r>c&&(t.go(o?"<":">"),r=a),function(n){return!i.releaseWheel||t.state.is(4)||-1!==e.Controller.getAdjacent(n)}(o)&&je(n)}}return{mount:function(){i.wheel&&n(e.Elements.track,"wheel",s,Hn)}}},Live:function(t,e,i){var n=Mi(t).on,r=e.Elements.track,s=i.live&&!i.isNavigation,o=Ne("span",bn),a=Ii(90,ie(l,!1));function l(t){De(r,tn,t),t?(be(r,o),a.start()):(He(o),a.cancel())}function c(t){s&&De(r,Qi,t?"off":"polite")}return{mount:function(){s&&(c(!e.Autoplay.isPaused()),De(r,en,!0),o.textContent="",n(Ci,ie(c,!0)),n(Ti,ie(c,!1)),n([hi,$i],ie(l,!0)))},disable:c,destroy:function(){Pe(r,[Qi,en,tn]),He(o)}}}}),Gn={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:Pn,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function Zn(t,e,i){var n=e.Slides;function r(){n.forEach((function(t){t.style("transform","translateX(-"+100*t.index+"%)")}))}return{mount:function(){Mi(t).on([ci,vi],r)},start:function(t,e){n.style("transition","opacity "+i.speed+"ms "+i.easing),ne(e)},cancel:re}}function Yn(t,e,i){var n,r=e.Move,s=e.Controller,o=e.Scroll,a=e.Elements.list,l=ie(Me,a,"transition");function c(){l(""),o.cancel()}return{mount:function(){Mi(t).bind(a,"transitionend",(function(t){t.target===a&&n&&(c(),n())}))},start:function(e,a){var c=r.toPosition(e,!0),d=r.getPosition(),u=function(e){var n=i.rewindSpeed;if(t.is(In)&&n){var r=s.getIndex(!0),o=s.getEnd();if(0===r&&e>=o||r>=o&&0===e)return n}return i.speed}(e);ti(c-d)>=1&&u>=1?i.useScroll?o.scroll(c,u,!1,a):(l("transform "+u+"ms "+i.easing),r.translate(c,!0),n=a):(r.jump(e),a())},cancel:c}}var Jn=function(){function t(e,i){var n;this.event=Mi(),this.Components={},this.state=(n=1,{set:function(t){n=t},is:function(t){return me(fe(t),n)}}),this.splides=[],this._o={},this._E={};var r=de(e)?Be(document,e):e;Ze(r,r+" is invalid."),this.root=r,i=Te({label:Le(r,Gi)||"",labelledby:Le(r,Zi)||""},Gn,t.defaults,i||{});try{Te(i,JSON.parse(Le(r,Ge)))}catch(t){Ze(!1,"Invalid JSON")}this._o=Object.create(Te({},i))}var e,i,n,r=t.prototype;return r.mount=function(t,e){var i=this,n=this.state,r=this.Components;return Ze(n.is([1,7]),"Already mounted!"),n.set(1),this._C=r,this._T=e||this._T||(this.is(Ln)?Zn:Yn),this._E=t||this._E,Se(Ce({},Xn,this._E,{Transition:this._T}),(function(t,e){var n=t(i,r,i._o);r[e]=n,n.setup&&n.setup()})),Se(r,(function(t){t.mount&&t.mount()})),this.emit(ci),ye(this.root,En),n.set(3),this.emit(di),this},r.sync=function(t){return this.splides.push({splide:t}),t.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._C.Sync.remount(),t.Components.Sync.remount()),this},r.go=function(t){return this._C.Controller.go(t),this},r.on=function(t,e){return this.event.on(t,e),this},r.off=function(t){return this.event.off(t),this},r.emit=function(t){var e;return(e=this.event).emit.apply(e,[t].concat(ee(arguments,1))),this},r.add=function(t,e){return this._C.Slides.add(t,e),this},r.remove=function(t){return this._C.Slides.remove(t),this},r.is=function(t){return this._o.type===t},r.refresh=function(){return this.emit(vi),this},r.destroy=function(t){void 0===t&&(t=!0);var e=this.event,i=this.state;return i.is(1)?Mi(this).on(di,this.destroy.bind(this,t)):(Se(this._C,(function(e){e.destroy&&e.destroy(t)}),!0),e.emit(xi),e.destroy(),t&&te(this.splides),i.set(7)),this},e=t,(i=[{key:"options",get:function(){return this._o},set:function(t){this._C.Media.set(t,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}])&&Jt(e.prototype,i),n&&Jt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();Jn.defaults={},Jn.STATES=Qt;class Kn extends at{constructor(){super(...arguments),this.splide=null,this.scrollBackTimer=null}firstUpdated(t){this._initializeSplide(),this._initializeScrollbackTimer()}updated(t){t.get("cardConfig")?(this._initializeScrollbackTimer(),this._initializeSplide()):t.get("departures")&&this.splide?.refresh()}disconnectedCallback(){super.disconnectedCallback(),this.scrollBackTimer?.stop(),this.scrollBackTimer=null}render(){return this.cardConfig?F`
    <div class="splide-root">
      <div class="splide">
        <div style="position:relative">
          <div class="splide__arrows"></div>
            <div class="splide__track">
              <ul class="splide__list">
                ${this.departures.map((t=>F`<li class="splide__slide">${this.renderDepartureLine(t)}</li>`))}
              </ul>
            </div>
          </div>
        </div>
      </div>
      ${this.errors?F`${this._renderErrors()}`:V}
    </div>
    `:F`Card configuration is not available!`}renderDelay(t){let e="";return!t||t.isArriving?F``:(null!=t.delay&&0!=t.delay&&(e=t.delay>0?`(+${t.delay})`:`(-${t.delay})`),F`<div class="cell-delay">${e}</div>`)}renderTransportIcon(t){return F`<div class="cell-transport-icon"><ha-icon icon=${t??"mdi:train-bus"}></ha-icon></div>`}renderCellLineName(t,e=null){return F`<div class="cell-line">${t}</div>`}renderCellDestination(t){return F`<div class="cell-destination">${t}</div>`}renderCellTime(t){let e=F``,i={arriving:!1};return t.isArriving?(i.arriving=!0,e=F`<ha-icon icon="mdi:bus"></ha-icon>`):e=t.timeDiff>60?F`${Yt(t.time,"HH:mm")}`:F`${t.timeDiff} min`,F`<div class="cell-time ${Ht(i)}">${e}</div>`}renderDepartureLine(t){let e=this.getDepartureLineClasses(t),i=this.getDepartureLineStyles(t);return F`
      <div class="departure-line ${Ht(e)}" style="${Bt(i)}">
        ${this.renderTransportIcon(t.icon)} ${this.renderCellLineName(t.lineName,t.lineColor)} ${this.renderCellDestination(t.destinationName)}
        ${this.renderCellTime(t.time)} ${this.renderDelay(t.time)}
      </div>
    `}getDepartureLineStyles(t){return{}}getDepartureLineClasses(t){return{arriving:t.time.isArriving,delayed:t.time.isDelayed}}_getContentHeight(){const t=this.cardConfig.departuresToShow??5;return 35*t+5*t}_renderErrors(){return F`
      ${this.errors.map((t=>F`<div class="error">
          <ha-icon icon="mdi:alert"></ha-icon>
          <div>The entity '<span>${t}</span>' is not supported!</div>
        </div>`))}
    `}_restartscrollBackTimer(){null==this.scrollBackTimer&&this._initializeScrollbackTimer(),this.scrollBackTimer&&(this.scrollBackTimer.isRunning()?this.scrollBackTimer.restart():this.scrollBackTimer.start((()=>{this.splide?.go(0)})))}_initializeScrollbackTimer(){if(this.scrollBackTimer&&(this.scrollBackTimer.stop(),this.scrollBackTimer=null),0==this.cardConfig.scrollBackTimeout)return;const t=1e3*(this.cardConfig.scrollBackTimeout||5);this.scrollBackTimer=new Et(t)}_initializeSplide(){this.splide&&this.splide.destroy();const t=this.renderRoot.querySelector(".splide"),e=this.cardConfig.departuresToShow??5;if(!t||void 0===t)return;const i={type:"slide",perPage:e,autoplay:!1,pagination:!1,arrows:this.cardConfig.showScrollButtons??Tt,gap:5,direction:"ttb",height:this._getContentHeight(),drag:!0,wheel:!0};this.splide=new Jn(t,i),this.splide.on("moved scrolled dragged",(t=>{0==t?this.scrollBackTimer?.stop():this._restartscrollBackTimer()})),this.splide.mount()}}Kn.styles=[a`
      ${o(".splide__container{box-sizing:border-box;position:relative}.splide__list{backface-visibility:hidden;display:-ms-flexbox;display:flex;height:100%;margin:0!important;padding:0!important}.splide.is-initialized:not(.is-active) .splide__list{display:block}.splide__pagination{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:center;justify-content:center;margin:0;pointer-events:none}.splide__pagination li{display:inline-block;line-height:1;list-style-type:none;margin:0;pointer-events:auto}.splide:not(.is-overflow) .splide__pagination{display:none}.splide__progress__bar{width:0}.splide{position:relative;visibility:hidden}.splide.is-initialized,.splide.is-rendered{visibility:visible}.splide__slide{backface-visibility:hidden;box-sizing:border-box;-ms-flex-negative:0;flex-shrink:0;list-style-type:none!important;margin:0;position:relative}.splide__slide img{vertical-align:bottom}.splide__spinner{animation:splide-loading 1s linear infinite;border:2px solid #999;border-left-color:transparent;border-radius:50%;bottom:0;contain:strict;display:inline-block;height:20px;left:0;margin:auto;position:absolute;right:0;top:0;width:20px}.splide__sr{clip:rect(0 0 0 0);border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.splide__toggle.is-active .splide__toggle__play,.splide__toggle__pause{display:none}.splide__toggle.is-active .splide__toggle__pause{display:inline}.splide__track{overflow:hidden;position:relative;z-index:0}@keyframes splide-loading{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.splide__track--draggable{-webkit-touch-callout:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.splide__track--fade>.splide__list>.splide__slide{margin:0!important;opacity:0;z-index:0}.splide__track--fade>.splide__list>.splide__slide.is-active{opacity:1;z-index:1}.splide--rtl{direction:rtl}.splide__track--ttb>.splide__list{display:block}.splide__arrow{-ms-flex-align:center;align-items:center;background:#ccc;border:0;border-radius:50%;cursor:pointer;display:-ms-flexbox;display:flex;height:2em;-ms-flex-pack:center;justify-content:center;opacity:.7;padding:0;position:absolute;top:50%;transform:translateY(-50%);width:2em;z-index:1}.splide__arrow svg{fill:#000;height:1.2em;width:1.2em}.splide__arrow:hover:not(:disabled){opacity:.9}.splide__arrow:disabled{opacity:.3}.splide__arrow:focus-visible{outline:3px solid #0bf;outline-offset:3px}.splide__arrow--prev{left:1em}.splide__arrow--prev svg{transform:scaleX(-1)}.splide__arrow--next{right:1em}.splide.is-focus-in .splide__arrow:focus{outline:3px solid #0bf;outline-offset:3px}.splide__pagination{bottom:.5em;left:0;padding:0 1em;position:absolute;right:0;z-index:1}.splide__pagination__page{background:#ccc;border:0;border-radius:50%;display:inline-block;height:8px;margin:3px;opacity:.7;padding:0;position:relative;transition:transform .2s linear;width:8px}.splide__pagination__page.is-active{background:#fff;transform:scale(1.4);z-index:1}.splide__pagination__page:hover{cursor:pointer;opacity:.9}.splide__pagination__page:focus-visible{outline:3px solid #0bf;outline-offset:3px}.splide.is-focus-in .splide__pagination__page:focus{outline:3px solid #0bf;outline-offset:3px}.splide__progress__bar{background:#ccc;height:3px}.splide__slide{-webkit-tap-highlight-color:rgba(0,0,0,0)}.splide__slide:focus{outline:0}@supports(outline-offset:-3px){.splide__slide:focus-visible{outline:3px solid #0bf;outline-offset:-3px}}@media screen and (-ms-high-contrast:none){.splide__slide:focus-visible{border:3px solid #0bf}}@supports(outline-offset:-3px){.splide.is-focus-in .splide__slide:focus{outline:3px solid #0bf;outline-offset:-3px}}@media screen and (-ms-high-contrast:none){.splide.is-focus-in .splide__slide:focus{border:3px solid #0bf}.splide.is-focus-in .splide__track>.splide__list>.splide__slide:focus{border-color:#0bf}}.splide__toggle{cursor:pointer}.splide__toggle:focus-visible{outline:3px solid #0bf;outline-offset:3px}.splide.is-focus-in .splide__toggle:focus{outline:3px solid #0bf;outline-offset:3px}.splide__track--nav>.splide__list>.splide__slide{border:3px solid transparent;cursor:pointer}.splide__track--nav>.splide__list>.splide__slide.is-active{border:3px solid #000}.splide__arrows--rtl .splide__arrow--prev{left:auto;right:1em}.splide__arrows--rtl .splide__arrow--prev svg{transform:scaleX(1)}.splide__arrows--rtl .splide__arrow--next{left:1em;right:auto}.splide__arrows--rtl .splide__arrow--next svg{transform:scaleX(-1)}.splide__arrows--ttb .splide__arrow{left:50%;transform:translate(-50%)}.splide__arrows--ttb .splide__arrow--prev{top:1em}.splide__arrows--ttb .splide__arrow--prev svg{transform:rotate(-90deg)}.splide__arrows--ttb .splide__arrow--next{bottom:1em;top:auto}.splide__arrows--ttb .splide__arrow--next svg{transform:rotate(90deg)}.splide__pagination--ttb{bottom:0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;left:auto;padding:1em 0;right:.5em;top:0}")}
    `,pt],t([It({attribute:!1})],Kn.prototype,"departures",void 0),t([It({attribute:!1})],Kn.prototype,"errors",void 0),t([It({attribute:!1})],Kn.prototype,"cardConfig",void 0);let Qn=class extends Kn{renderCellLineName(t,e=null){return F`<div class="cell-line" style="${Bt({color:e})}">${t}</div>`}};Qn.styles=[Kn.styles,gt],Qn=t([Dt("card-content-black-white")],Qn);let tr=class extends Kn{renderCellLineName(t,e=null){return F`<div class="cell-line" style="${Bt({backgroundColor:e})}">${t}</div>`}};tr.styles=[Kn.styles,mt],tr=t([Dt("card-content-cappucino")],tr);let er=class extends Kn{renderCellLineName(t,e=null){return F`<div class="cell-line" style="${Bt({backgroundColor:e})}">${t}</div>`}};er.styles=[Kn.styles,ft],er=t([Dt("card-content-basic")],er);let ir=class extends Kn{};ir.styles=[Kn.styles,ft],ir=t([Dt("card-content-eco-green")],ir);var nr="\\d\\d?",rr="\\d\\d",sr="[^\\s]+";function or(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i.push(t[n].substr(0,e));return i}var ar=function(t){return function(e,i){var n=i[t].map((function(t){return t.toLowerCase()})),r=n.indexOf(e.toLowerCase());return r>-1?r:null}};function lr(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0,r=e;n<r.length;n++){var s=r[n];for(var o in s)t[o]=s[o]}return t}var cr=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dr=["January","February","March","April","May","June","July","August","September","October","November","December"],ur=or(dr,3),hr={dayNamesShort:or(cr,3),dayNames:cr,monthNamesShort:ur,monthNames:dr,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},pr=(lr({},hr),function(t){return+t-1}),fr=[null,nr],gr=[null,sr],mr=["isPm",sr,function(t,e){var i=t.toLowerCase();return i===e.amPm[0]?0:i===e.amPm[1]?1:null}],_r=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var i=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?i:-i}return 0}];ar("monthNamesShort"),ar("monthNames");var vr,yr;!function(){try{(new Date).toLocaleDateString("i")}catch(t){return"RangeError"===t.name}}(),function(){try{(new Date).toLocaleString("i")}catch(t){return"RangeError"===t.name}}(),function(){try{(new Date).toLocaleTimeString("i")}catch(t){return"RangeError"===t.name}}(),function(t){t.language="language",t.system="system",t.comma_decimal="comma_decimal",t.decimal_comma="decimal_comma",t.space_comma="space_comma",t.none="none"}(vr||(vr={})),function(t){t.language="language",t.system="system",t.am_pm="12",t.twenty_four="24"}(yr||(yr={}));var br=function(t,e,i,n){n=n||{},i=null==i?{}:i;var r=new Event(e,{bubbles:void 0===n.bubbles||n.bubbles,cancelable:Boolean(n.cancelable),composed:void 0===n.composed||n.composed});return r.detail=i,t.dispatchEvent(r),r};const Er={en:{card:{editor:{title:"Card header text (optional)",icon:"Card icon (optional)",showCardHeader:"Show card header",showScrollButtons:"Show scroll buttons",cardStyle:"Style",departuresToShow:"Departures to show per page",scrollBackTimeout:"Scrollback time (seconds)",addEntity:"Add entity",entity:{entity:"Entity",destinationName:"Destination name",lineName:"Line name",lineColor:"Line color",nowIcon:"Now icon",timeStyle:"Departure time style",remove:"Delete"}},departures:"Departures",line:"Line",destination:"Destination"}},de:{card:{editor:{title:"Card Header text (optional)",icon:"Card Icon (optional)",showCardHeader:"Card Header anzeigen",showScrollButtons:"Scroll Buttons anzeigen",cardStyle:"Style",departuresToShow:"Abfahrten pro Seite",scrollBackTimeout:"Scrollback Zeit (Sekunden)",addEntity:"Neue Entity",entity:{entity:"Entity",destinationName:"Zielname",lineName:"Linienname",lineColor:"Linienfarbe",nowIcon:"Anfahrt Icon",timeStyle:"Ankunftszeit Stil",remove:"Entfernen"}},departures:"Abfahrten",line:"Linie",destination:"Ziel"}}};function wr(t,e){return e.split(".").reduce(((t,e)=>t?.[e]),t)}function $r(t,e="en",i){const n=Object.keys(Er).includes(e)?e:"en",r=Er.en;let s=wr(Er[n],t)??wr(r,t);if("string"!=typeof s)return t;if(i)for(const[t,e]of Object.entries(i))s=s.replace(new RegExp(`{${t}}`,"g"),e);return s}let xr=class extends at{constructor(){super(...arguments),this._schema=[{name:"entity",selector:{entity:{},domain:"sensor"}},{name:"destinationName",selector:{text:{}}},{name:"",type:"grid",schema:[{name:"lineName",selector:{text:{}}},{name:"lineColor",selector:{text:{}}}]}],this._computeLabelCallback=t=>$r(`card.editor.entity.${t.name}`,this.hass.locale?.language)}render(){return this.hass?F`
      <div class="entity-editor-content">
        <div id="card-options">
          <ha-icon-button .label=${$r("card.editor.entity.remove",this.hass.locale?.language)} .path=${"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"} @click=${this.handleDelete}> </ha-icon-button>
        </div>
        <ha-form .schema="${this._schema}" .hass="${this.hass}" .data="${this.data?.config}" @value-changed=${this._configChanged} .computeLabel=${this._computeLabelCallback}>
        </ha-form>
      </div>
    `:V}_configChanged(t){this.dispatchEvent(new CustomEvent("onChange",{detail:t.detail.value}))}handleDelete(){this.dispatchEvent(new CustomEvent("onDelete",{detail:this.data?.index}))}};xr.styles=[ht,a`
      .entity-editor-content {
        border: 1px solid var(--divider-color);
        padding: 10px;
      }
      #card-options {
        display: flex;
        justify-content: flex-end;
        width: 100%;
      }
    `],t([It({attribute:!1})],xr.prototype,"hass",void 0),t([It({attribute:!1})],xr.prototype,"data",void 0),xr=t([Dt("departures-entity-editor")],xr);class Ar{constructor(t,e){this.index=t,this.config=void 0===e?{entity:"",lineColor:null,lineName:null,destinationName:null}:e}}let Sr=class extends at{constructor(){super(...arguments),this._tabs=[],this._currTab="1",this.SCHEMA=[{name:"",type:"grid",column_min_width:"100px",schema:[{name:"title",required:!1,selector:{text:{}}},{name:"icon",selector:{icon:{}}}]},{name:"",type:"grid",column_min_width:"100px",schema:[{name:"showScrollButtons",type:"boolean"},{name:"showCardHeader",type:"boolean",default:!0}]},{name:"cardStyle",type:"select",required:!0,options:[["basic","Basic"],["black-white","Black White"],["cappucino","Cappucino"],["eco-green","Eco Green"]],default:"basic"},{name:"departuresToShow",selector:{number:{min:1,max:20,step:1,mode:"slider"}}},{name:"scrollBackTimeout",selector:{number:{min:0,max:20,step:1,mode:"slider"}}}],this.computeLabelCallback=t=>$r(`card.editor.${t.name}`,this.hass.locale?.language)}setConfig(t){this._config=t,this._tabs=t.entities?.map(((t,e)=>new Ar(Number(e+1),t)))||[]}render(){return this.hass&&this._config?(0===this._tabs.length&&this.addEntity(),F`
      <ha-form .schema="${this.SCHEMA}" .data="${this._config}" .hass="${this.hass}" .computeLabel=${this.computeLabelCallback} @value-changed=${this.configChanged}> </ha-form>

      <ha-expansion-panel .leftChevron=${!0}>
        <span slot="header">Entities</span>
        <div class="card-config">
          <div class="toolbar">
            <ha-tab-group @wa-tab-show=${this.handleTabChanged}>
              ${this._tabs.map((t=>F` <ha-tab-group-tab slot="nav" .panel=${t.index} .active=${this._currTab===t.index.toString()}> ${t.index} </ha-tab-group-tab> `))}
            </ha-tab-group>
            <ha-icon-button .path=${"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"} .label=${$r("card.editor.addEntity",this.hass.locale?.language)} @click=${this.addEntity}></ha-icon-button>
          </div>
          <departures-entity-editor .hass=${this.hass} .data=${this.getTabData()} @onDelete=${this.removeEntity} @onChange=${this.updateEntity}></departures-entity-editor>
        </div>
      </ha-expansion-panel>
    `):V}getTabData(){const t=parseInt(this._currTab)-1;if(t>=0&&t<this._tabs.length)return this._tabs[t];throw Error("No")}addEntity(){if(!this._config)return;let t=new Ar(this._tabs.length+1,void 0);this._tabs=[...this._tabs,t],this._currTab=`${this._tabs.length}`,this.updateConfig()}removeEntity(t){if(!this._config)return;const e=parseInt(this._currTab)-1;this._tabs.splice(e,1),this.updateConfig(),this._currTab=Math.max(1,e).toString()}updateEntity(t){t.stopPropagation();let e=this.getTabData();e?(e.config=t.detail,this.updateConfig(),br(this,"config-changed",{config:this._config})):console.warn("No tab found for config change",this._tabs,this._currTab)}updateConfig(){const t={...this._config};t.entities=this._tabs.map((t=>t.config)),this._config=t,br(this,"config-changed",{config:this._config})}handleTabChanged(t){const e=t.detail.name.toString();e!==this._currTab&&(this._currTab=e)}configChanged(t){t.stopPropagation(),this._config&&this.hass&&(this._config=t.detail.value,br(this,"config-changed",{config:this._config}))}};var Cr;Sr.styles=[ht,a`
      .entity-editor-content {
        border: 1px solid var(--divider-color);
        padding: 10px;
      }
      .toolbar {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
      }
      ha-expansion-panel {
        margin-top: 20px;
      }
      ha-tab-group {
        flex: 1;
        margin-right: 5px;
        max-width: 400px;
      }
    `],t([It({attribute:!1})],Sr.prototype,"hass",void 0),t([Rt()],Sr.prototype,"_config",void 0),t([Rt()],Sr.prototype,"_tabs",void 0),t([Rt()],Sr.prototype,"_currTab",void 0),Sr=t([Dt("departures-card-editor")],Sr),window.customCards=window.customCards||[],window.customCards.push({type:"departures-card",name:"Departures Card",description:"Display departure times for different public transports"});console.groupCollapsed("%cDepartures-Card 3.0.0","color:black; font-weight: bold; background: tomato; padding: 2px; border-radius: 5px;"),console.log("Github repository: https://github.com/alex-jung/ha-departures-card"),console.groupEnd();let Tr=Cr=class extends at{constructor(){super(...arguments),this.dataPool=new Pt}static getConfigElement(){return document.createElement("departures-card-editor")}static getStubConfig(t){return{type:"custom:departures-card",title:$r("card.departures",t.locale?.language)||"Departures",showCardHeader:true,departuresToShow:5,showScrollButtons:Tt,scrollBackTimeout:5,cardStyle:kt,entities:[]}}setConfig(t){if(!t)throw new Error("No configuration object provided!");this.config=t}connectedCallback(){super.connectedCallback(),this._updateTimer=setInterval((()=>{this.requestUpdate()}),1e4)}disconnectedCallback(){super.disconnectedCallback(),clearInterval(this._updateTimer)}render(){const t=this.config||Cr.getStubConfig(this.hass);Object(this.hass?.selectedTheme).dark;const e=t.title||$r("card.departures",this.hass.locale?.language),i=t.icon||"mdi:bus-multiple";this.dataPool.update(this.hass,this.config.entities);const n=this.dataPool.getDepartures(!0),r=this._getCardContent(t,n);return F`
      <ha-card>
        <div class="card-content">
          ${t.showCardHeader?F`
                <div class="card-header">
                  ${e}
                  <ha-icon icon="${i}"></ha-icon>
                </div>
              `:""}
          <div class="content" data-theme="dark">${r}</div>
        </div>
      </ha-card>
    `}_getCardContent(t,e){const i=F`<card-content-basic .departures=${e} .cardConfig=${t} .errors=${this.dataPool.unsupportedEntities}></card-content-basic>`,n=F`<card-content-black-white .departures=${e} .cardConfig=${t} .errors=${this.dataPool.unsupportedEntities}></card-content-black-white>`,r=F`<card-content-cappucino .departures=${e} .cardConfig=${t} .errors=${this.dataPool.unsupportedEntities}></card-content-cappucino>`,s=F`<card-content-eco-green .departures=${e} .cardConfig=${t} .errors=${this.dataPool.unsupportedEntities}></card-content-eco-green>`;switch(t.cardStyle){case ct.BASIC:return i;case ct.BLACK_WHITE:return n;case ct.CAPPUCINO:return r;case ct.ECO_GREEN:return s;default:return i}}};Tr.styles=[ht],t([Rt()],Tr.prototype,"config",void 0),t([It({attribute:!1})],Tr.prototype,"hass",void 0),Tr=Cr=t([Dt("departures-card")],Tr);export{Tr as DeparturesCard};
